<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BMI Calculator | School Tools Hub</title>
    <link rel="stylesheet" href="/css/menu.css" />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap");

      :root {
        --primary: #58a6ff;
        --primary-hover: #1f6feb;
        --bg-dark: #0d1117;
        --bg-card: #161b22;
        --text-light: #c9d1d9;
        --text-muted: #8b949e;
        --border: #30363d;
        --shadow: rgba(88, 166, 255, 0.2);
        --danger: #f85149;
        --success: #56d364;
        --warning: #e3b341;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: var(--bg-dark);
        color: var(--text-light);
        padding: 20px;
        transition: all 0.3s ease;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .theme-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background: transparent;
        border: 1px solid var(--border);
        color: var(--text-light);
        padding: 8px 12px;
        border-radius: 20px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
      }

      .theme-toggle:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .container {
        max-width: 800px;
        margin: 40px auto;
        background: var(--bg-card);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        border: 1px solid var(--border);
        flex-grow: 1;
      }

      .back-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        color: var(--text-muted);
        text-decoration: none;
        margin-bottom: 20px;
        transition: all 0.3s ease;
      }

      .back-btn:hover {
        color: var(--primary);
      }

      h1 {
        text-align: center;
        color: var(--primary);
        margin-bottom: 10px;
        font-size: 2.2rem;
      }

      .description {
        text-align: center;
        color: var(--text-muted);
        margin-bottom: 30px;
        line-height: 1.6;
      }

      .info-box {
        background: rgba(88, 166, 255, 0.1);
        border: 1px solid var(--primary);
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 25px;
        font-size: 0.9rem;
        line-height: 1.6;
      }

      .info-box h3 {
        color: var(--primary);
        margin-bottom: 8px;
        font-size: 1.1rem;
      }

      .calculator-container {
        display: flex;
        flex-direction: column;
        gap: 30px;
      }

      .unit-toggle {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
      }

      .unit-toggle-btn {
        background: var(--bg-dark);
        border: 1px solid var(--border);
        color: var(--text-light);
        padding: 10px 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.95rem;
      }

      .unit-toggle-btn:first-child {
        border-radius: 8px 0 0 8px;
      }

      .unit-toggle-btn:last-child {
        border-radius: 0 8px 8px 0;
      }

      .unit-toggle-btn.active {
        background: var(--primary);
        color: white;
        border-color: var(--primary);
      }

      .input-form {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
        max-width: 500px;
        margin: 0 auto;
      }

      .input-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .input-group label {
        font-size: 0.95rem;
        color: var(--text-muted);
      }

      .input-group input,
      .input-group select {
        padding: 12px 15px;
        border-radius: 8px;
        border: 1px solid var(--border);
        background: var(--bg-dark);
        color: var(--text-light);
        font-family: "Poppins", sans-serif;
        transition: all 0.3s ease;
      }

      .input-group input:focus,
      .input-group select:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 2px var(--shadow);
      }

      .input-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }

      .calculate-btn {
        background: var(--primary);
        color: white;
        border: none;
        padding: 12px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 500;
        font-size: 1rem;
        margin-top: 10px;
      }

      .calculate-btn:hover {
        background: var(--primary-hover);
        transform: scale(1.02);
      }

      .result-container {
        background: rgba(88, 166, 255, 0.1);
        border: 1px solid var(--primary);
        border-radius: 8px;
        padding: 20px;
        margin-top: 30px;
        text-align: center;
        display: none;
      }

      .result-title {
        font-size: 1.2rem;
        color: var(--primary);
        margin-bottom: 15px;
      }

      .bmi-value {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 10px;
      }

      .bmi-category {
        font-size: 1.3rem;
        margin-bottom: 15px;
        font-weight: 600;
      }

      .category-underweight {
        color: var(--warning);
      }

      .category-normal {
        color: var(--success);
      }

      .category-overweight {
        color: var(--warning);
      }

      .category-obese {
        color: var(--danger);
      }

      .health-recommendations {
        background: var(--bg-dark);
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
        text-align: left;
        line-height: 1.6;
      }

      .health-recommendations h4 {
        color: var(--primary);
        margin-bottom: 10px;
      }

      .health-recommendations ul {
        padding-left: 20px;
        margin-top: 10px;
      }

      .health-recommendations li {
        margin-bottom: 5px;
      }

      .bmi-chart {
        margin-top: 30px;
        position: relative;
        height: 60px;
        background: linear-gradient(
          to right,
          #3498db 0%,
          #2ecc71 25%,
          #f1c40f 37.5%,
          #e67e22 50%,
          #e74c3c 62.5%,
          #c0392b 100%
        );
        border-radius: 8px;
        overflow: hidden;
      }

      .bmi-marker {
        position: absolute;
        top: 0;
        width: 4px;
        height: 100%;
        background: white;
        transform: translateX(-50%);
      }

      .bmi-scale {
        display: flex;
        justify-content: space-between;
        margin-top: 5px;
        color: var(--text-muted);
        font-size: 0.8rem;
      }

      .body-fat-container {
        margin-top: 30px;
        background: rgba(88, 166, 255, 0.1);
        border: 1px solid var(--primary);
        border-radius: 8px;
        padding: 20px;
      }

      .body-fat-title {
        font-size: 1.2rem;
        color: var(--primary);
        margin-bottom: 15px;
        text-align: center;
      }

      .body-fat-value {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 10px;
        text-align: center;
      }

      .body-fat-description {
        text-align: center;
        margin-bottom: 15px;
      }

      .body-fat-note {
        font-size: 0.85rem;
        color: var(--text-muted);
        text-align: center;
        font-style: italic;
      }

      footer {
        text-align: center;
        margin-top: 40px;
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      /* Light theme */
      body.light-theme {
        --primary: #0066cc;
        --primary-hover: #0052a3;
        --bg-dark: #f5f8fa;
        --bg-card: #ffffff;
        --text-light: #24292e;
        --text-muted: #586069;
        --border: #e1e4e8;
        --shadow: rgba(0, 102, 204, 0.2);
        --danger: #d73a49;
        --success: #28a745;
        --warning: #f1c40f;
      }

      @media (max-width: 768px) {
        .container {
          padding: 20px;
        }

        h1 {
          font-size: 1.8rem;
        }

        .input-row {
          grid-template-columns: 1fr;
        }

        .bmi-value {
          font-size: 2rem;
        }

        .bmi-category {
          font-size: 1.1rem;
        }
      }

      @media (max-width: 480px) {
        .container {
          padding: 15px;
          margin: 20px auto;
        }

        .theme-toggle {
          top: 10px;
          right: 10px;
          padding: 6px 10px;
          font-size: 0.8rem;
        }

        h1 {
          font-size: 1.5rem;
        }

        .description {
          font-size: 0.9rem;
        }

        .input-group input,
        .input-group select {
          padding: 10px;
        }

        .calculate-btn {
          padding: 10px;
          font-size: 0.9rem;
        }
      }
      :root {
        --primary: #58a6ff;
        --primary-hover: #1f6feb;
        --bg-dark: #0d1117;
        --bg-card: #161b22;
        --text-light: #c9d1d9;
        --text-muted: #8b949e;
        --border: #30363d;
        --shadow: rgba(88, 166, 255, 0.2);
        --danger: #f85149;
        --success: #56d364;
        --warning: #e3b341;
      }

      /* Hamburger Menu Styles */
      .hamburger-menu {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1000;
        cursor: pointer;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: 8px;
        transition: all 0.3s ease;
      }

      .hamburger-menu:hover {
        border-color: var(--primary);
      }

      .hamburger-icon {
        width: 24px;
        height: 24px;
        position: relative;
      }

      .hamburger-icon span {
        display: block;
        position: absolute;
        height: 2px;
        width: 100%;
        background: var(--text-light);
        border-radius: 2px;
        opacity: 1;
        left: 0;
        transform: rotate(0deg);
        transition: all 0.3s ease;
      }

      .hamburger-icon span:nth-child(1) {
        top: 6px;
      }

      .hamburger-icon span:nth-child(2),
      .hamburger-icon span:nth-child(3) {
        top: 12px;
      }

      .hamburger-icon span:nth-child(4) {
        top: 18px;
      }

      .hamburger-menu.open .hamburger-icon span:nth-child(1),
      .hamburger-menu.open .hamburger-icon span:nth-child(4) {
        width: 0%;
        left: 50%;
        opacity: 0;
      }

      .hamburger-menu.open .hamburger-icon span:nth-child(2) {
        transform: rotate(45deg);
      }

      .hamburger-menu.open .hamburger-icon span:nth-child(3) {
        transform: rotate(-45deg);
      }

      .nav-menu {
        position: fixed;
        top: 0;
        left: -300px;
        width: 300px;
        height: 100%;
        background: var(--bg-card);
        border-right: 1px solid var(--border);
        z-index: 999;
        transition: all 0.3s ease;
        overflow-y: auto;
        padding: 50px 20px 20px;
      }

      .nav-menu.open {
        left: 0;
      }

      .nav-menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 998;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .nav-menu-overlay.open {
        opacity: 1;
        visibility: visible;
      }

      .nav-menu-title {
        font-size: 1.2rem;
        color: var(--primary);
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--border);
      }

      .nav-menu-list {
        list-style-type: none;
      }

      .nav-menu-item {
        margin-bottom: 10px;
      }

      .nav-menu-link {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px;
        border-radius: 8px;
        color: var(--text-light);
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .nav-menu-link:hover {
        background: rgba(88, 166, 255, 0.1);
      }

      .nav-menu-link.active {
        background: var(--primary);
        color: white;
      }

      .nav-menu-icon {
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* Theme Toggle Button */
      .theme-toggle {
        position: absolute;
        top: 20px;
        right: 20px;
        background: transparent;
        border: 1px solid var(--border);
        color: var(--text-light);
        padding: 8px 12px;
        border-radius: 20px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        z-index: 100;
      }

      .theme-toggle:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      /* Toast Notification Styles */
      .toast {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 20px;
        border-radius: 8px;
        color: white;
        font-size: 0.9rem;
        z-index: 1000;
        opacity: 0;
        transform: translateY(-20px);
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .toast.success {
        background: var(--success);
      }

      .toast.error {
        background: var(--danger);
      }

      .toast.warning {
        background: var(--warning);
      }

      .toast.show {
        opacity: 1;
        transform: translateY(0);
      }

      .toast-icon {
        font-size: 1.2rem;
      }

      .toast-message {
        flex: 1;
      }

      .toast-close {
        background: transparent;
        border: none;
        color: white;
        cursor: pointer;
        font-size: 1.2rem;
        opacity: 0.7;
        transition: opacity 0.3s ease;
      }

      .toast-close:hover {
        opacity: 1;
      }

      /* Footer Styles */
      footer {
        text-align: center;
        margin-top: 40px;
        color: var(--text-muted);
        font-size: 0.9rem;
        padding: 20px 0;
        border-top: 1px solid var(--border);
      }

      .social-links {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 10px;
      }

      .social-link {
        color: var(--text-muted);
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .social-link:hover {
        color: var(--primary);
      }

      /* Light theme */
      body.light-theme {
        --primary: #0066cc;
        --primary-hover: #0052a3;
        --bg-dark: #f5f8fa;
        --bg-card: #ffffff;
        --text-light: #24292e;
        --text-muted: #586069;
        --border: #e1e4e8;
        --shadow: rgba(0, 102, 204, 0.2);
        --danger: #d73a49;
        --success: #28a745;
        --warning: #f1c40f;
      }

      /* Responsive styles */
      @media (max-width: 768px) {
        .hamburger-menu {
          top: 15px;
          left: 15px;
        }

        .theme-toggle {
          top: 15px;
          right: 15px;
          padding: 6px 10px;
          font-size: 0.9rem;
        }
      }

      @media (max-width: 480px) {
        .hamburger-menu {
          top: 10px;
          left: 10px;
          width: 35px;
          height: 35px;
        }

        .theme-toggle {
          top: 10px;
          right: 10px;
          padding: 5px 8px;
          font-size: 0.8rem;
        }

        .nav-menu {
          width: 250px;
          left: -250px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Hamburger Menu -->
    <div class="hamburger-menu" id="hamburgerMenu">
      <div class="hamburger-icon">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <!-- Navigation Menu -->
    <div class="nav-menu" id="navMenu">
      <h2 class="nav-menu-title">School Tools Hub</h2>
      <ul class="nav-menu-list">
        <li class="nav-menu-item">
          <a href="gwa_calculator.html" class="nav-menu-link">
            <span>GWA Calculator</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="general_average_counter.html" class="nav-menu-link">
            <span>General Average</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="pomodoro_timer.html" class="nav-menu-link">
            <span>Pomodoro Timer</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="unit_converter.html" class="nav-menu-link">
            <span>Unit Converter</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="dictionary.html" class="nav-menu-link">
            <span>Dictionary</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="word_counter.html" class="nav-menu-link">
            <span>Word Counter</span>
          </a>
        </li>

        <li class="nav-menu-item">
          <a href="typing_test.html" class="nav-menu-link">
            <span>Typing Test</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="readability_checker.html" class="nav-menu-link">
            <span>Readability Checker</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="citation_generator.html" class="nav-menu-link">
            <span>Citation Generator</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="text_case_converter.html" class="nav-menu-link">
            <span>Text Case Converter</span>
          </a>
        </li>

        <li class="nav-menu-item">
          <a href="physics_calculator.html" class="nav-menu-link">
            <span>Physics Calculator</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="bmi_calculator.html" class="nav-menu-link">
            <span>BMI Calculator</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="statistical_calculator.html" class="nav-menu-link">
            <span>Statistical Calculator</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="trigonometry_solver.html" class="nav-menu-link">
            <span>Trigonometry Solver</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="data_sorting.html" class="nav-menu-link">
            <span>Data Sorting</span>
          </a>
        </li>
        <li class="nav-menu-item">
          <a href="metadata_viewer.html" class="nav-menu-link">
            <span>Metadata Viewer</span>
          </a>
        </li>
      </ul>
    </div>
    <div class="nav-menu-overlay" id="navMenuOverlay"></div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
      <div class="toast-icon" id="toastIcon"></div>
      <div class="toast-message" id="toastMessage"></div>
      <button class="toast-close" id="toastClose">×</button>
    </div>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" onclick="toggleTheme()">
      <span id="theme-icon">🌙</span> <span id="theme-text">Dark Mode</span>
    </button>

    <div class="container">
      <a href="../index.html" class="back-btn"
        ><svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          width="24"
          height="24"
          color="#d3d3d3"
          fill="none">
          <path
            d="M15 6C15 6 9.00001 10.4189 9 12C8.99999 13.5812 15 18 15 18"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
        Back to Home</a
      >

      <h1>BMI Calculator</h1>
      <p class="description"
        >Calculate your Body Mass Index (BMI) to assess your weight relative to
        your height.</p
      >

      <div class="info-box">
        <h3>What is BMI?</h3>
        <p
          >Body Mass Index (BMI) is a measure of body fat based on height and
          weight that applies to adult men and women. It is calculated by
          dividing a person's weight in kilograms by the square of their height
          in meters.</p
        >
      </div>

      <div class="calculator-container">
        <div class="unit-toggle">
          <button
            class="unit-toggle-btn active"
            id="metricBtn"
            onclick="switchUnit('metric')"
            >Metric (kg/cm)</button
          >
          <button
            class="unit-toggle-btn"
            id="imperialBtn"
            onclick="switchUnit('imperial')"
            >Imperial (lb/in)</button
          >
        </div>

        <div class="input-form">
          <div id="metricForm">
            <div class="input-group">
              <label for="weight-kg">Weight (kg)</label>
              <input
                type="number"
                id="weight-kg"
                placeholder="Enter weight in kilograms"
                min="20"
                max="300"
                step="0.1" />
            </div>

            <div class="input-group">
              <label for="height-cm">Height (cm)</label>
              <input
                type="number"
                id="height-cm"
                placeholder="Enter height in centimeters"
                min="50"
                max="250" />
            </div>
          </div>

          <div id="imperialForm" style="display: none">
            <div class="input-group">
              <label for="weight-lb">Weight (lb)</label>
              <input
                type="number"
                id="weight-lb"
                placeholder="Enter weight in pounds"
                min="40"
                max="660"
                step="0.1" />
            </div>

            <div class="input-row">
              <div class="input-group">
                <label for="height-ft">Height (ft)</label>
                <input
                  type="number"
                  id="height-ft"
                  placeholder="Feet"
                  min="1"
                  max="8" />
              </div>

              <div class="input-group">
                <label for="height-in">Height (in)</label>
                <input
                  type="number"
                  id="height-in"
                  placeholder="Inches"
                  min="0"
                  max="11" />
              </div>
            </div>
          </div>

          <div class="input-group">
            <label for="gender">Gender</label>
            <select id="gender">
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>

          <div class="input-group">
            <label for="age">Age</label>
            <input
              type="number"
              id="age"
              placeholder="Enter your age"
              max="120" />
          </div>

          <button class="calculate-btn" onclick="calculateBMI()"
            >Calculate BMI</button
          >
        </div>

        <div class="result-container" id="resultContainer">
          <h3 class="result-title">Your BMI Result</h3>
          <div class="bmi-value" id="bmiValue">25.0</div>
          <div class="bmi-category" id="bmiCategory">Normal Weight</div>

          <div class="bmi-chart">
            <div class="bmi-marker" id="bmiMarker" style="left: 25%"></div>
          </div>
          <div class="bmi-scale">
            <span>Underweight</span>
            <span>Normal</span>
            <span>Overweight</span>
            <span>Obese</span>
            <span>Severely Obese</span>
          </div>

          <div class="health-recommendations" id="healthRecommendations">
            <h4>Health Recommendations</h4>
            <p>Based on your BMI, here are some recommendations:</p>
            <ul id="recommendationsList">
              <li
                >Maintain a balanced diet rich in fruits, vegetables, lean
                proteins, and whole grains.</li
              >
              <li
                >Engage in regular physical activity, aiming for at least 150
                minutes of moderate exercise per week.</li
              >
              <li
                >Stay hydrated by drinking plenty of water throughout the
                day.</li
              >
              <li>Get adequate sleep, aiming for 7-9 hours per night.</li>
            </ul>
          </div>

          <div class="body-fat-container" id="bodyFatContainer">
            <h3 class="body-fat-title">Estimated Body Fat Percentage</h3>
            <div class="body-fat-value" id="bodyFatValue">22%</div>
            <div class="body-fat-description" id="bodyFatDescription"
              >Normal body fat percentage for your gender and age.</div
            >
            <p class="body-fat-note"
              >Note: This is an estimate based on BMI and demographic factors.
              For a more accurate measurement, consider methods like DEXA scans
              or bioelectrical impedance analysis.</p
            >
          </div>
        </div>
      </div>
    </div>

    <footer id="footer-placeholder"></footer>

    <script>
      // Current unit system
      let currentUnit = "metric";

      // Load saved theme preference
      const savedTheme = localStorage.getItem("theme") || "dark";
      document.body.classList.toggle("light-theme", savedTheme === "light");
      updateThemeToggle();

      // Theme toggle functionality
      function toggleTheme() {
        document.body.classList.toggle("light-theme");
        const isLight = document.body.classList.contains("light-theme");
        localStorage.setItem("theme", isLight ? "light" : "dark");
        updateThemeToggle();
      }

      function updateThemeToggle() {
        const isLight = document.body.classList.contains("light-theme");
        document.getElementById("theme-icon").textContent = isLight
          ? "☀️"
          : "🌙";
        document.getElementById("theme-text").textContent = isLight
          ? "Light Mode"
          : "Dark Mode";
      }

      // Switch between metric and imperial units
      function switchUnit(unit) {
        currentUnit = unit;

        const metricBtn = document.getElementById("metricBtn");
        const imperialBtn = document.getElementById("imperialBtn");
        const metricForm = document.getElementById("metricForm");
        const imperialForm = document.getElementById("imperialForm");

        if (unit === "metric") {
          metricBtn.classList.add("active");
          imperialBtn.classList.remove("active");
          metricForm.style.display = "block";
          imperialForm.style.display = "none";
        } else {
          metricBtn.classList.remove("active");
          imperialBtn.classList.add("active");
          metricForm.style.display = "none";
          imperialForm.style.display = "block";
        }
      }

      // Calculate BMI
      function calculateBMI() {
        let weight, height, bmi;

        // Get gender and age
        const gender = document.getElementById("gender").value;
        const age = parseInt(document.getElementById("age").value);

        // Validate age (Allow all ages)
        if (!age || age < 1 || age > 120) {
          alert("Please enter a valid age between 1 and 120.");
          return;
        }

        if (currentUnit === "metric") {
          // Get metric values
          weight = parseFloat(document.getElementById("weight-kg").value);
          height = parseFloat(document.getElementById("height-cm").value);

          // Validate inputs
          if (
            !weight ||
            !height ||
            weight < 5 ||
            weight > 300 ||
            height < 30 ||
            height > 250
          ) {
            alert(
              "Please enter valid weight (5-300 kg) and height (30-250 cm) values."
            );
            return;
          }

          // Calculate BMI (kg/m²)
          bmi = weight / Math.pow(height / 100, 2);
        } else {
          // Get imperial values
          weight = parseFloat(document.getElementById("weight-lb").value);
          const heightFt =
            parseInt(document.getElementById("height-ft").value) || 0;
          const heightIn =
            parseInt(document.getElementById("height-in").value) || 0;

          // Validate inputs
          if (
            !weight ||
            weight < 11 ||
            weight > 660 ||
            heightFt < 1 ||
            heightFt > 8 ||
            heightIn < 0 ||
            heightIn > 11
          ) {
            alert("Please enter valid weight (11-660 lb) and height values.");
            return;
          }

          // Convert height to total inches
          const totalInches = heightFt * 12 + heightIn;

          // Calculate BMI using imperial formula: (weight in pounds / height in inches²) × 703
          bmi = (weight / Math.pow(totalInches, 2)) * 703;
        }

        // Round BMI to 1 decimal place
        bmi = Math.round(bmi * 10) / 10;

        // Determine BMI category
        let category, categoryClass, markerPosition;

        if (bmi < 18.5) {
          category = "Underweight";
          categoryClass = "category-underweight";
          markerPosition = (bmi / 40) * 100; // Scale to percentage of chart width
        } else if (bmi < 25) {
          category = "Normal Weight";
          categoryClass = "category-normal";
          markerPosition = (bmi / 40) * 100;
        } else if (bmi < 30) {
          category = "Overweight";
          categoryClass = "category-overweight";
          markerPosition = (bmi / 40) * 100;
        } else {
          category = "Obese";
          categoryClass = "category-obese";
          markerPosition = Math.min((bmi / 40) * 100, 95); // Cap at 95% of chart width
        }

        // Calculate estimated body fat percentage
        const bodyFatPercentage = estimateBodyFat(bmi, age, gender);

        // Determine body fat category
        let bodyFatCategory;
        if (gender === "male") {
          if (bodyFatPercentage < 8) {
            bodyFatCategory =
              "Very low body fat percentage. Essential fat is 2-5%.";
          } else if (bodyFatPercentage < 14) {
            bodyFatCategory = "Athletic body fat percentage range.";
          } else if (bodyFatPercentage < 21) {
            bodyFatCategory = "Fitness body fat percentage range.";
          } else if (bodyFatPercentage < 25) {
            bodyFatCategory = "Average body fat percentage range.";
          } else {
            bodyFatCategory = "Above average body fat percentage.";
          }
        } else {
          // female
          if (bodyFatPercentage < 15) {
            bodyFatCategory =
              "Very low body fat percentage. Essential fat is 10-13%.";
          } else if (bodyFatPercentage < 21) {
            bodyFatCategory = "Athletic body fat percentage range.";
          } else if (bodyFatPercentage < 28) {
            bodyFatCategory = "Fitness body fat percentage range.";
          } else if (bodyFatPercentage < 32) {
            bodyFatCategory = "Average body fat percentage range.";
          } else {
            bodyFatCategory = "Above average body fat percentage.";
          }
        }

        // Generate health recommendations based on BMI category
        const recommendationsList = document.getElementById(
          "recommendationsList"
        );
        recommendationsList.innerHTML = "";

        const commonRecommendations = [
          "Stay hydrated by drinking plenty of water throughout the day.",
          "Get adequate sleep, aiming for 7-9 hours per night.",
          "Manage stress through relaxation techniques, mindfulness, or hobbies.",
        ];

        let specificRecommendations = [];

        if (bmi < 18.5) {
          specificRecommendations = [
            "Consider consulting with a healthcare provider to rule out underlying conditions.",
            "Increase caloric intake with nutrient-dense foods.",
            "Include healthy fats like avocados, nuts, and olive oil in your diet.",
            "Consider strength training to build muscle mass.",
            "Eat smaller, more frequent meals if you get full quickly.",
          ];
        } else if (bmi < 25) {
          specificRecommendations = [
            "Maintain a balanced diet rich in fruits, vegetables, lean proteins, and whole grains.",
            "Engage in regular physical activity, aiming for at least 150 minutes of moderate exercise per week.",
            "Continue your current healthy habits to maintain your weight.",
            "Consider a mix of cardio and strength training for overall fitness.",
          ];
        } else if (bmi < 30) {
          specificRecommendations = [
            "Aim to reduce caloric intake moderately while maintaining nutritional balance.",
            "Increase physical activity to 150-300 minutes per week.",
            "Focus on portion control and mindful eating.",
            "Reduce intake of processed foods, sugary beverages, and high-calorie snacks.",
            "Consider keeping a food journal to track eating habits.",
          ];
        } else {
          specificRecommendations = [
            "Consider consulting with a healthcare provider for personalized advice.",
            "Aim for gradual, sustainable weight loss of 1-2 pounds per week.",
            "Focus on a balanced diet with portion control.",
            "Start with low-impact exercises like walking, swimming, or cycling.",
            "Set realistic, achievable goals for both diet and exercise.",
            "Consider joining a support group or working with a dietitian.",
          ];
        }

        // Combine and display recommendations
        const allRecommendations = [
          ...specificRecommendations,
          ...commonRecommendations,
        ];
        allRecommendations.forEach((recommendation) => {
          const li = document.createElement("li");
          li.textContent = recommendation;
          recommendationsList.appendChild(li);
        });

        // Update the UI with results
        document.getElementById("bmiValue").textContent = bmi.toFixed(1);

        const bmiCategoryElement = document.getElementById("bmiCategory");
        bmiCategoryElement.textContent = category;
        bmiCategoryElement.className = "bmi-category " + categoryClass;

        document.getElementById("bmiMarker").style.left = markerPosition + "%";

        document.getElementById("bodyFatValue").textContent =
          bodyFatPercentage.toFixed(1) + "%";
        document.getElementById("bodyFatDescription").textContent =
          bodyFatCategory;

        // Show results
        document.getElementById("resultContainer").style.display = "block";

        // Scroll to results
        document
          .getElementById("resultContainer")
          .scrollIntoView({ behavior: "smooth" });
      }

      // Estimate body fat percentage based on BMI, age, and gender
      function estimateBodyFat(bmi, age, gender) {
        // This is a simplified estimation based on the Deurenberg equation
        // Body Fat % = 1.20 × BMI + 0.23 × Age - 10.8 × gender - 5.4
        // where gender = 1 for males and 0 for females

        const genderFactor = gender === "male" ? 1 : 0;
        let bodyFat = 1.2 * bmi + 0.23 * age - 10.8 * genderFactor - 5.4;

        // Ensure body fat percentage is within reasonable limits
        bodyFat = Math.max(bodyFat, gender === "male" ? 2 : 10); // Essential fat
        bodyFat = Math.min(bodyFat, 50); // Upper limit

        return bodyFat;
      }

      // DOM Elements
      const hamburgerMenu = document.getElementById("hamburgerMenu");
      const navMenu = document.getElementById("navMenu");
      const navMenuOverlay = document.getElementById("navMenuOverlay");
      const toast = document.getElementById("toast");
      const toastIcon = document.getElementById("toastIcon");
      const toastMessage = document.getElementById("toastMessage");
      const toastClose = document.getElementById("toastClose");

      // Event Listeners
      document.addEventListener("DOMContentLoaded", function () {
        // Set up hamburger menu
        hamburgerMenu.addEventListener("click", toggleNavMenu);
        navMenuOverlay.addEventListener("click", closeNavMenu);

        // Set up toast close button
        toastClose.addEventListener("click", hideToast);

        // Set active nav link
        setActiveNavLink();
      });

      // Theme toggle functionality
      function toggleTheme() {
        document.body.classList.toggle("light-theme");
        const isLight = document.body.classList.contains("light-theme");
        localStorage.setItem("theme", isLight ? "light" : "dark");
        updateThemeToggle();
      }

      function updateThemeToggle() {
        const isLight = document.body.classList.contains("light-theme");
        document.getElementById("theme-icon").textContent = isLight
          ? "☀️"
          : "🌙";
        document.getElementById("theme-text").textContent = isLight
          ? "Light Mode"
          : "Dark Mode";
      }

      // Toggle navigation menu
      function toggleNavMenu() {
        hamburgerMenu.classList.toggle("open");
        navMenu.classList.toggle("open");
        navMenuOverlay.classList.toggle("open");

        // Add event listener to close nav menu when clicking outside
        document.addEventListener("click", closeNavMenuOutside);
      }

      // Close navigation menu
      function closeNavMenu() {
        hamburgerMenu.classList.remove("open");
        navMenu.classList.remove("open");
        navMenuOverlay.classList.remove("open");

        // Remove event listener
        document.removeEventListener("click", closeNavMenuOutside);
      }

      // Close nav menu when clicking outside
      function closeNavMenuOutside(event) {
        if (
          !navMenu.contains(event.target) &&
          !hamburgerMenu.contains(event.target)
        ) {
          closeNavMenu();
        }
      }

      // Set active nav link based on current page
      function setActiveNavLink() {
        const currentPage = window.location.pathname.split("/").pop();
        const navLinks = document.querySelectorAll(".nav-menu-link");

        navLinks.forEach((link) => {
          const linkPage = link.getAttribute("href");
          if (linkPage === currentPage) {
            link.classList.add("active");
          } else {
            link.classList.remove("active");
          }
        });
      }

      // Show toast notification
      function showToast(message, type = "success") {
        // Set toast icon based on type
        let icon = "";

        switch (type) {
          case "success":
            icon = "✅";
            break;
          case "error":
            icon = "❌";
            break;
          case "warning":
            icon = "⚠️";
            break;
          default:
            icon = "ℹ️";
        }

        toastIcon.textContent = icon;
        toastMessage.textContent = message;

        // Remove existing classes
        toast.classList.remove("success", "error", "warning");

        // Add new class
        toast.classList.add(type);

        // Show toast
        toast.classList.add("show");

        // Hide toast after 3 seconds
        setTimeout(hideToast, 3000);
      }

      // Hide toast notification
      function hideToast() {
        toast.classList.remove("show");
      }

      // Replace all alert() calls with showToast()
      window.originalAlert = window.alert;
      window.alert = function (message) {
        showToast(message, "warning");
      };
    </script>
    <script src="/js/script.js"></script>
    <script src="../nav/nav.js"></script>
    <script src="../nav/footer.js"></script>
  </body>
</html>
